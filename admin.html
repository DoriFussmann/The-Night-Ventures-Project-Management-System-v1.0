<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>The Night Ventures - Admin</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap" rel="stylesheet">
  <meta name="color-scheme" content="light only">
</head>
<body>
  <header class="layout stack" style="padding-top: 16px; padding-bottom: 16px;">
    <h1>The Night Ventures</h1>
  </header>
  <main class="layout stack" style="padding-bottom: 32px;">
    <section class="section stack">
      <h2>Admin</h2>
      <div class="row">
        <button id="addProjectBtn" class="btn btn-sm btn-progress" type="button">
          <span class="state-idle">Add Project</span>
          <span class="state-working"><span class="spinner" aria-hidden="true"></span> working…</span>
          <span class="state-done">✓ done</span>
        </button>
        <button id="addTaskGlobalBtn" class="btn btn-sm" type="button">Add Task</button>
        <button id="addUserBtn" class="btn btn-sm" type="button">Add User</button>
      </div>
    </section>
    <section class="section stack">
      <details class="collapsible" open>
        <summary aria-controls="projectsCollapse" aria-expanded="true">Projects</summary>
        <div id="projectsCollapse" class="collapsible-body">
          <table class="table" aria-label="Projects list">
            <thead>
              <tr>
                <th scope="col">Name</th>
                <th scope="col">Type</th>
                <th scope="col">Status</th>
                <th scope="col">Monthly $ Impact</th>
              </tr>
            </thead>
            <tbody id="projectsTbody"></tbody>
          </table>
        </div>
      </details>
    </section>

    <section class="section stack">
      <h2>Tasks — Do</h2>
      <table class="table" aria-label="Tasks Do">
        <thead>
          <tr>
            <th scope="col">Project</th>
            <th scope="col">Task</th>
            <th scope="col">Deadline</th>
          </tr>
        </thead>
        <tbody id="adminTasksTodo"></tbody>
      </table>
    </section>
    <section class="section stack">
      <h2>Tasks — Doing</h2>
      <table class="table" aria-label="Tasks Doing">
        <thead>
          <tr>
            <th scope="col">Project</th>
            <th scope="col">Task</th>
            <th scope="col">Deadline</th>
          </tr>
        </thead>
        <tbody id="adminTasksDoing"></tbody>
      </table>
    </section>

    <section class="section stack">
      <h2>Users</h2>
      <table class="table" aria-label="Users list">
        <thead>
          <tr>
            <th scope="col">Project</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Email</th>
          </tr>
        </thead>
        <tbody id="adminUsersTbody"></tbody>
      </table>
    </section>
    <section class="section stack">
      <h2>Tasks — Done</h2>
      <table class="table" aria-label="Tasks Done">
        <thead>
          <tr>
            <th scope="col">Project</th>
            <th scope="col">Task</th>
            <th scope="col">Deadline</th>
          </tr>
        </thead>
        <tbody id="adminTasksDone"></tbody>
      </table>
    </section>

    
    <!-- Modal: Add Project -->
    <div id="modalBackdrop" class="modal-backdrop" aria-hidden="true"></div>
    <div id="addProjectModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="addProjectTitle">
      <div class="modal-panel stack" role="document">
        <div class="modal-header">
          <h2 id="addProjectTitle" class="modal-title">Add Project</h2>
          <button id="closeModalBtn" class="btn" type="button" aria-label="Close">Close</button>
        </div>
        <div class="modal-body stack">
          <div class="stack">
            <label class="label" for="projName">Name</label>
            <input id="projName" class="input" type="text" placeholder="Project name" />
          </div>
          <div class="stack">
            <label class="label" for="projDesc">Description</label>
            <textarea id="projDesc" class="textarea" rows="4" placeholder="Short description"></textarea>
          </div>
          <div class="stack">
            <label class="label" for="projPeople">Individuals Involved (comma-separated)</label>
            <input id="projPeople" class="input" type="text" placeholder="e.g., Alice, Bob" />
          </div>
          <div class="stack">
            <label class="label" for="projSource">Source</label>
            <select id="projSource" class="input" aria-label="Source">
              <option value="EarlyStageLabs">EarlyStageLabs</option>
              <option value="Solo">Solo</option>
              <option value="__add_new__">Add New Source</option>
            </select>
          </div>
          <div class="stack">
            <label class="label" for="projType">Type</label>
            <select id="projType" class="input" aria-label="Type">
              <option value="Fractional CFO">Fractional CFO</option>
              <option value="Advisory">Advisory</option>
              <option value="Founding Team">Founding Team</option>
            </select>
          </div>
          <div class="grid-3">
            <div class="stack">
              <label class="label" for="projStatus">Status</label>
              <select id="projStatus" class="input" aria-label="Status">
                <option value="Warming Up">Warming Up</option>
                <option value="Pipeline">Pipeline</option>
                <option value="Live">Live</option>
                <option value="Slow Death">Slow Death</option>
                <option value="Archived/Dead">Archived/Dead</option>
              </select>
            </div>
            <div class="stack">
              <label class="label" for="projMonthlyImpact">Monthly $ Impact</label>
              <input id="projMonthlyImpact" class="input" type="text" placeholder="$0.00" inputmode="decimal" />
            </div>
            <div class="stack">
              <label class="label" for="projHoursPerMonth"># of Hours / Month</label>
              <input id="projHoursPerMonth" class="input" type="number" placeholder="0" min="0" step="1" />
            </div>
          </div>
          <!-- Contingent Status Fields -->
          <div id="statusContingentFields" class="stack" style="display: none;">
            <!-- Pipeline Fields -->
            <div id="pipelineFields" class="grid-2" style="display: none;">
              <div class="stack">
                <label class="label" for="projTiming">Timing</label>
                <select id="projTiming" class="input" aria-label="Timing">
                  <option value="">Select timing...</option>
                  <option value="90 Days">90 Days</option>
                  <option value="60 Days">60 Days</option>
                  <option value="30 Days">30 Days</option>
                </select>
              </div>
              <div class="stack">
                <label class="label" for="projLikelihood">Likelihood</label>
                <select id="projLikelihood" class="input" aria-label="Likelihood">
                  <option value="">Select likelihood...</option>
                  <option value="Who Knows">Who Knows</option>
                  <option value="Likely">Likely</option>
                  <option value="Happening">Happening</option>
                </select>
              </div>
            </div>
            <!-- Warming Up Fields -->
            <div id="warmingUpFields" class="stack" style="display: none;">
              <label class="label" for="projTemperature">Temperature</label>
              <select id="projTemperature" class="input" aria-label="Temperature">
                <option value="">Select temperature...</option>
                <option value="Warm">Warm</option>
                <option value="Warmer">Warmer</option>
                <option value="Hot">Hot</option>
              </select>
            </div>
            <!-- Slow Death Fields -->
            <div id="slowDeathFields" class="stack" style="display: none;">
              <label class="label" for="projDeathStage">Stage</label>
              <select id="projDeathStage" class="input" aria-label="Death Stage">
                <option value="">Select stage...</option>
                <option value="Dying">Dying</option>
                <option value="Dead">Dead</option>
              </select>
            </div>
          </div>
          <div class="grid-2">
            <div class="stack">
              <label class="label" for="projImage">Project Image</label>
              <input id="projImage" class="input" type="file" accept="image/*" />
            </div>
            <div class="stack">
              <span class="label">Preview</span>
              <img id="projImagePreview" class="image-preview" alt="Image preview" />
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="cancelAddProject" class="btn" type="button">Cancel</button>
          <button id="deleteProject" class="btn btn-progress" type="button">
            <span class="state-idle">Delete</span>
            <span class="state-working"><span class="spinner" aria-hidden="true"></span> working…</span>
            <span class="state-done">✓ done</span>
          </button>
          <button id="openTaskModalBtn" class="btn" type="button">Add Task</button>
          <button id="saveAddProject" class="btn btn-progress" type="button">
            <span class="state-idle">Save</span>
            <span class="state-working"><span class="spinner" aria-hidden="true"></span> working…</span>
            <span class="state-done">✓ done</span>
          </button>
        </div>
      </div>
    </div>
    
    <!-- Modal: Add Task -->
    <div id="taskModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="taskModalTitle">
      <div class="modal-panel stack" role="document">
        <div class="modal-header">
          <h2 id="taskModalTitle" class="modal-title">Add Task</h2>
          <button id="closeTaskModalBtn" class="btn" type="button" aria-label="Close">Close</button>
        </div>
        <div class="modal-body stack">
          <div id="taskProjectPickerRow" class="stack" style="display:none;">
            <label class="label" for="taskProjectPicker">Project</label>
            <select id="taskProjectPicker" class="input" aria-label="Project"></select>
          </div>
          <div class="stack">
            <label class="label" for="taskTitle">Task</label>
            <input id="taskTitle" class="input" type="text" placeholder="Task title" />
          </div>
          <div class="grid-2">
            <div class="stack">
              <label class="label" for="taskStage">Stage</label>
              <select id="taskStage" class="input" aria-label="Stage">
                <option value="todo">Do</option>
                <option value="doing">Doing</option>
                <option value="done">Done</option>
              </select>
            </div>
            <div class="stack">
              <label class="label" for="taskDeadline">Deadline</label>
              <input id="taskDeadline" class="input" type="date" />
            </div>
          </div>
          <div class="stack">
            <label class="label" for="taskShort">Short</label>
            <input id="taskShort" class="input" type="text" placeholder="Short context" />
          </div>
          <div class="stack">
            <label class="label" for="taskLong">Long</label>
            <textarea id="taskLong" class="textarea" rows="4" placeholder="Detailed description"></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button id="cancelTaskBtn" class="btn" type="button">Cancel</button>
          <button id="saveTaskBtn" class="btn btn-progress" type="button">
            <span class="state-idle">Save Task</span>
            <span class="state-working"><span class="spinner" aria-hidden="true"></span> working…</span>
            <span class="state-done">✓ done</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Modal: Add User -->
    <div id="userModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="userModalTitle">
      <div class="modal-panel stack" role="document">
        <div class="modal-header">
          <h2 id="userModalTitle" class="modal-title">Add User</h2>
          <button id="closeUserModalBtn" class="btn" type="button" aria-label="Close">Close</button>
        </div>
        <div class="modal-body stack">
          <div class="stack">
            <label class="label" for="userProject">Project</label>
            <select id="userProject" class="input" aria-label="Project"></select>
          </div>
          <div class="grid-2">
            <div class="stack">
              <label class="label" for="userFirstName">First Name</label>
              <input id="userFirstName" class="input" type="text" placeholder="First name" />
            </div>
            <div class="stack">
              <label class="label" for="userLastName">Last Name</label>
              <input id="userLastName" class="input" type="text" placeholder="Last name" />
            </div>
          </div>
          <div class="stack">
            <label class="label" for="userEmail">Email</label>
            <input id="userEmail" class="input" type="email" placeholder="name@example.com" />
          </div>
          <div class="stack">
            <label class="label" for="userPassword">Password</label>
            <input id="userPassword" class="input" type="password" placeholder="Set password" />
          </div>
          <div class="stack">
            <div class="label">Permissions</div>
            <table class="table" aria-label="User Permissions">
              <thead>
                <tr>
                  <th scope="col">Page</th>
                  <th scope="col">Can Access</th>
                </tr>
              </thead>
              <tbody id="userPermsTbody"></tbody>
            </table>
          </div>
        </div>
        <div class="modal-footer">
          <button id="cancelUserBtn" class="btn" type="button">Cancel</button>
          <button id="deleteUserBtn" class="btn" type="button">Delete</button>
          <button id="saveUserBtn" class="btn btn-progress" type="button">
            <span class="state-idle">Save User</span>
            <span class="state-working"><span class="spinner" aria-hidden="true"></span> working…</span>
            <span class="state-done">✓ done</span>
          </button>
        </div>
      </div>
    </div>
  </main>
  <script src="app.js"></script>
  
</body>
</html>

