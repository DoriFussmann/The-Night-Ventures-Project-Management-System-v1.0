<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>The Night Ventures - Home</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap" rel="stylesheet">
  <meta name="color-scheme" content="light only">
</head>
<body>
  <!-- Header is now managed by React; keep space minimal in legacy to avoid duplicates -->
  <main class="layout stack" style="padding-top: 48px; padding-bottom: 32px;">
    <section class="section stack">
      <div class="row">
        <h2 style="margin-right: auto;">Projects</h2>
        <button id="homeAddProjectBtn" class="btn btn-sm btn-progress" type="button">
          <span class="state-idle">Add Project</span>
          <span class="state-working"><span class="spinner" aria-hidden="true"></span> working…</span>
          <span class="state-done">✓ done</span>
        </button>
      </div>
      <div id="projectsGrid" class="projects-grid"></div>
    </section>
    <section class="section stack" style="margin-top: 48px;">
      <div class="row">
        <h2 style="margin-right: auto;">Tasks</h2>
        <button id="addTaskGlobalBtn" class="btn btn-sm" type="button">Add Task</button>
      </div>
      <div class="tasks-grid">
        <div class="tasks-col">
          <div class="tasks-title">Do</div>
          <div id="tasksColTodo" class="stack"></div>
        </div>
        <div class="tasks-col">
          <div class="tasks-title">Doing</div>
          <div id="tasksColDoing" class="stack"></div>
        </div>
        <div class="tasks-col">
          <div class="tasks-title">Done</div>
          <div id="tasksColDone" class="stack"></div>
        </div>
      </div>
    </section>
    
    <!-- Modal: Add/Edit Project (shared with Admin behavior) -->
    <div id="modalBackdrop" class="modal-backdrop" aria-hidden="true"></div>
    <div id="addProjectModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="addProjectTitle">
      <div class="modal-panel stack" role="document">
        <div class="modal-header">
          <h2 id="addProjectTitle" class="modal-title">Project</h2>
          <button id="closeModalBtn" class="btn" type="button" aria-label="Close">Close</button>
        </div>
        <div class="modal-body stack">
          <div class="stack">
            <label class="label" for="projName">Name</label>
            <input id="projName" class="input" type="text" placeholder="Project name" />
          </div>
          <div class="stack">
            <label class="label" for="projDesc">Description</label>
            <textarea id="projDesc" class="textarea" rows="4" placeholder="Short description"></textarea>
          </div>
          <div class="stack">
            <label class="label" for="projPeople">Individuals Involved (comma-separated)</label>
            <input id="projPeople" class="input" type="text" placeholder="e.g., Alice, Bob" />
          </div>
          <div class="stack">
            <label class="label" for="projSource">Source</label>
            <select id="projSource" class="input" aria-label="Source">
              <option value="EarlyStageLabs">EarlyStageLabs</option>
              <option value="Solo">Solo</option>
              <option value="__add_new__">Add New Source</option>
            </select>
          </div>
          <div class="stack">
            <label class="label" for="projType">Type</label>
            <select id="projType" class="input" aria-label="Type">
              <option value="Fractional CFO">Fractional CFO</option>
              <option value="Advisory">Advisory</option>
              <option value="Founding Team">Founding Team</option>
            </select>
          </div>
          <div class="grid-3">
            <div class="stack">
              <label class="label" for="projStatus">Status</label>
              <select id="projStatus" class="input" aria-label="Status">
                <option value="Warming Up">Warming Up</option>
                <option value="Pipeline">Pipeline</option>
                <option value="Live">Live</option>
                <option value="Slow Death">Slow Death</option>
                <option value="Archived/Dead">Archived/Dead</option>
              </select>
            </div>
            <!-- Contingent Status Fields -->
            <div id="statusContingentFields" class="stack" style="display: none;">
              <!-- Pipeline Fields -->
              <div id="pipelineFields" class="grid-2" style="display: none;">
                <div class="stack">
                  <label class="label" for="projTiming">Timing</label>
                  <select id="projTiming" class="input" aria-label="Timing">
                    <option value="">Select timing...</option>
                    <option value="90 Days">90 Days</option>
                    <option value="60 Days">60 Days</option>
                    <option value="30 Days">30 Days</option>
                  </select>
                </div>
                <div class="stack">
                  <label class="label" for="projLikelihood">Likelihood</label>
                  <select id="projLikelihood" class="input" aria-label="Likelihood">
                    <option value="">Select likelihood...</option>
                    <option value="Who Knows">Who Knows</option>
                    <option value="Likely">Likely</option>
                    <option value="Happening">Happening</option>
                  </select>
                </div>
              </div>
              <!-- Warming Up Fields -->
              <div id="warmingUpFields" class="stack" style="display: none;">
                <label class="label" for="projTemperature">Temperature</label>
                <select id="projTemperature" class="input" aria-label="Temperature">
                  <option value="">Select temperature...</option>
                  <option value="Warm">Warm</option>
                  <option value="Warmer">Warmer</option>
                  <option value="Hot">Hot</option>
                </select>
              </div>
              <!-- Slow Death Fields -->
              <div id="slowDeathFields" class="stack" style="display: none;">
                <label class="label" for="projDeathStage">Stage</label>
                <select id="projDeathStage" class="input" aria-label="Death Stage">
                  <option value="">Select stage...</option>
                  <option value="Dying">Dying</option>
                  <option value="Dead">Dead</option>
                </select>
              </div>
            </div>
            <div class="stack">
              <label class="label" for="projMonthlyImpact">Monthly $ Impact</label>
              <input id="projMonthlyImpact" class="input" type="text" placeholder="$0.00" inputmode="decimal" />
            </div>
            <div class="stack">
              <label class="label" for="projHoursPerMonth"># of Hours / Month</label>
              <input id="projHoursPerMonth" class="input" type="number" placeholder="0" min="0" step="1" />
            </div>
          </div>
          <div class="grid-2">
            <div class="stack">
              <label class="label" for="projImage">Project Image</label>
              <input id="projImage" class="input" type="file" accept="image/*" />
            </div>
            <div class="stack">
              <span class="label">Preview</span>
              <img id="projImagePreview" class="image-preview" alt="Image preview" />
            </div>
          </div>
          
        </div>
        <div class="modal-footer">
          <button id="cancelAddProject" class="btn" type="button">Cancel</button>
          <button id="deleteProject" class="btn btn-progress" type="button">
            <span class="state-idle">Delete</span>
            <span class="state-working"><span class="spinner" aria-hidden="true"></span> working…</span>
            <span class="state-done">✓ done</span>
          </button>
          <button id="saveAddProject" class="btn btn-progress" type="button">
            <span class="state-idle">Save</span>
            <span class="state-working"><span class="spinner" aria-hidden="true"></span> working…</span>
            <span class="state-done">✓ done</span>
          </button>
        </div>
      </div>
    </div>
    
    <!-- Modal: Add Task (shared) -->
    <div id="taskModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="taskModalTitle">
      <div class="modal-panel stack" role="document">
        <div class="modal-header">
          <h2 id="taskModalTitle" class="modal-title">Add Task</h2>
          <button id="closeTaskModalBtn" class="btn" type="button" aria-label="Close">Close</button>
        </div>
        <div class="modal-body stack">
          <div id="taskProjectPickerRow" class="stack" style="display:none;">
            <label class="label" for="taskProjectPicker">Project</label>
            <select id="taskProjectPicker" class="input" aria-label="Project"></select>
          </div>
          <div class="stack">
            <label class="label" for="taskTitle">Task</label>
            <input id="taskTitle" class="input" type="text" placeholder="Task title" />
          </div>
          <div class="grid-2">
            <div class="stack">
              <label class="label" for="taskStage">Stage</label>
              <select id="taskStage" class="input" aria-label="Stage">
                <option value="todo">Do</option>
                <option value="doing">Doing</option>
                <option value="done">Done</option>
              </select>
            </div>
            <div class="stack">
              <label class="label" for="taskDeadline">Deadline</label>
              <input id="taskDeadline" class="input" type="date" />
            </div>
          </div>
          <div class="stack">
            <label class="label" for="taskShort">Short</label>
            <input id="taskShort" class="input" type="text" placeholder="Short context" />
          </div>
          <div class="stack">
            <label class="label" for="taskLong">Long</label>
            <textarea id="taskLong" class="textarea" rows="4" placeholder="Detailed description"></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button id="cancelTaskBtn" class="btn" type="button">Cancel</button>
          <button id="saveTaskBtn" class="btn btn-progress" type="button">
            <span class="state-idle">Save Task</span>
            <span class="state-working"><span class="spinner" aria-hidden="true"></span> working…</span>
            <span class="state-done">✓ done</span>
          </button>
        </div>
      </div>
    </div>
  </main>
  <script src="app.js"></script>
</body>
</html>


